动态游标

```
1.编写一个程序，查询出所有的部门，在部门信息下面显示所有的员工信息
	1.1弱类型
declare
  --声明显示游标
  cursor  cur_dept is select * from dept;

  --声明游标类型
  type  type_emp  is ref cursor;

  --声明游标变量
  cur_emp type_emp;

  --声明行类型变量
  v_emp emp%rowtype;
begin
   --循环游标
   for  v_dept  in cur_dept  loop
        --打印所有的部门信息
        dbms_output.put_line('部门编号：'|| v_dept.deptno || '部门名称：'|| v_dept.dname);

        --根据部门的编号，查询出下面的员工信息
        open cur_emp  for select * from emp  where deptno = v_dept.deptno;
    
    --循环打印所有的员工信息
    loop
         --从游标里面提取数据
         fetch  cur_emp into v_emp;
         
         --循环退出条件
         exit when cur_emp%notfound;
         
         --打印员工信息
         dbms_output.put_line('     员工编号：'|| v_emp.empno || '员工姓名：'|| v_emp.ename || '所属部门：' || v_emp.deptno);
    
    end  loop;
    
    --关闭游标
    close cur_emp;
   end loop;
end; 

--1.2强类型：
declare
   --声明ref 游标类型
   type type_emp is ref cursor  return  emp%rowtype;

   --声明游标变量
   cur_emp type_emp;

   --v_emp emp%rowtype;

   v_dept  dept%rowtype;
begin
       --查询所有员工信息
       open cur_emp for select * from  dept; 
   --循环游标
   loop
        -- 从游标里面提取一行数据
        fetch cur_emp into v_dept;
        --循环退出条件
        exit  when  cur_emp %notfound;

        --打印员工信息
       -- dbms_output.put_line('     员工编号：'|| v_emp.empno || '员工姓名：'|| v_emp.ename || '所属部门：' || v_emp.deptno);
       
       dbms_output.put_line('部门编号：'|| v_dept.deptno || '部门名称：'|| v_dept.dname);
   end loop;

end;


```


