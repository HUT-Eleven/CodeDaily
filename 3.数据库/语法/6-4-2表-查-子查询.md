--子查询：在查询里面嵌套的查询

```
--查询出’SALES‘部门下面的员工信息

select *  from emp   where deptno = (select deptno from dept where dname = 'SALES'); 
 --<!--不相关联子查询-->
```

```
--查询出与’SCOTT或SMITH在同一个部门的员工信息
select * from emp where deptno in
(select  deptno from  emp where ename in('SCOTT','SMITH'));
或者:
SELECT * FROM emp WHERE deptno = (SELECT deptno FROM emp WHERE ename='SCOTT')
UNION--去重复的并集
SELECT * FROM emp WHERE deptno = (SELECT deptno FROM emp WHERE ename='SMITH')
```

```
--查询出员工编号，姓名，所在部门编号，所在部门名称
select empno,ename,deptno,(select dname from dept  where deptno =e.deptno )  
from emp e; -- <!--相关联子查询-->（这种多表的，一般用多表连接查询）
```

--exists: 判断子查询有没有返回结果，有结果则为true  否则false

```
--查询存在员工的部门信息（这里用“1”的原因是为了提高效率，因为exists关注的是有没有返回结果，1相当于一个伪列）(exists   前加not即取反 )
select  * from  dept d where  exists (select 1 from emp where deptno =d.deptno);--不会显示没有员工的部门
```

